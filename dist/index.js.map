{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport NProgress, { NProgressOptions } from \"nprogress\";\nimport Router from \"next/router\";\nimport {\n  createGlobalStyle,\n  DefaultTheme,\n  GlobalStyleComponent,\n} from \"styled-components\";\n\ninterface NextProgressProps {\n  height?: string;\n  color?: string;\n  delay?: number;\n  options?: Partial<NProgressOptions>;\n  customGlobalCss?: GlobalStyleComponent<{}, DefaultTheme>;\n}\n\n/**\n * @param height Height of the progress bar.\n * @param color Color of the progress bar.\n * @param delay Delay of the animation - when page loads faster than the delay time progress bar won't be displayed.\n * @param options Options for - NProgress.configure(options).\n * @param customGlobalCss Custom NProgress styles - must be provided as a GlobalStyleComponent - use createGlobalStyle from styled-components; color param won't work as you should set the color yourself in css.\n */\nconst NextProgress = React.memo(\n  ({\n    height = \"2px\",\n    color = \"#29D\",\n    delay = 0,\n    options,\n    customGlobalCss,\n  }: NextProgressProps) => {\n    const NProgressStyles =\n      customGlobalCss ||\n      createGlobalStyle`\n      /* Source: https://unpkg.com/nprogress@0.2.0/nprogress.css + styled-components implementation */\n\n      /* Make clicks pass-through */\n      #nprogress {\n        pointer-events: none;\n      }\n\n      #nprogress .bar {\n        background: ${color};\n\n        position: fixed;\n        z-index: 99999;\n        top: 0;\n        left: 0;\n\n        width: 100%;\n        height: ${height};\n      }\n\n      /* Fancy blur effect */\n      #nprogress .peg {\n        display: block;\n        position: absolute;\n        right: 0px;\n        width: 100px;\n        height: 100%;\n        box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\n        opacity: 1.0;\n\n        -webkit-transform: rotate(3deg) translate(0px, -4px);\n            -ms-transform: rotate(3deg) translate(0px, -4px);\n                transform: rotate(3deg) translate(0px, -4px);\n      }\n\n      /* Remove these to get rid of the spinner */\n      #nprogress .spinner {\n        display: block;\n        position: fixed;\n        z-index: 99999;\n        top: 15px;\n        right: 15px;\n      }\n\n      #nprogress .spinner-icon {\n        width: 18px;\n        height: 18px;\n        box-sizing: border-box;\n\n        border: solid 2px transparent;\n        border-top-color: ${color};\n        border-left-color: ${color};\n        border-radius: 50%;\n\n        -webkit-animation: nprogress-spinner 400ms linear infinite;\n                animation: nprogress-spinner 400ms linear infinite;\n      }\n\n      .nprogress-custom-parent {\n        overflow: hidden;\n        position: relative;\n      }\n\n      .nprogress-custom-parent #nprogress .spinner,\n      .nprogress-custom-parent #nprogress .bar {\n        position: absolute;\n      }\n\n      @-webkit-keyframes nprogress-spinner {\n        0%   { -webkit-transform: rotate(0deg); }\n        100% { -webkit-transform: rotate(360deg); }\n      }\n      @keyframes nprogress-spinner {\n        0%   { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    `;\n\n    useEffect(() => {\n      options && NProgress.configure(options);\n\n      let timeout: NodeJS.Timeout;\n      const start = () =>\n          (timeout = setTimeout(() => NProgress.start(), delay)),\n        done = () => {\n          clearTimeout(timeout);\n          NProgress.done();\n        };\n\n      Router.events.on(\"routeChangeStart\", start);\n      Router.events.on(\"routeChangeComplete\", done);\n      Router.events.on(\"routeChangeError\", done);\n    }, []);\n\n    return <NProgressStyles />;\n  },\n  () => true\n);\n\nexport default NextProgress;\n"],"names":["React","createGlobalStyle","useEffect","NProgress","Router"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBA;;;;;;;IAOM,YAAY,GAAGA,yBAAK,CAAC,IAAI,CAC7B,UAAC,EAMmB;QALlB,cAAc,EAAd,MAAM,mBAAG,KAAK,KAAA,EACd,aAAc,EAAd,KAAK,mBAAG,MAAM,KAAA,EACd,aAAS,EAAT,KAAK,mBAAG,CAAC,KAAA,EACT,OAAO,aAAA,EACP,eAAe,qBAAA;IAEf,IAAM,eAAe,GACnB,eAAe,IACfC,kCAAiB,giEAAA,+PASD,EAAK,qIAQT,EAAM,8NAUO,EAAK,YAAa,EAAK,4mBAuB1B,EAAK,gCACJ,EAAK,utBAyB7B,KAnEiB,KAAK,EAQT,MAAM,EAUO,KAAK,EAAa,KAAK,EAuB1B,KAAK,EACJ,KAAK,CAyB7B,CAAC;IAEFC,eAAS,CAAC;QACR,OAAO,IAAIC,6BAAS,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAExC,IAAI,OAAuB,CAAC;QAC5B,IAAM,KAAK,GAAG;YACV,QAAC,OAAO,GAAG,UAAU,CAAC,cAAM,OAAAA,6BAAS,CAAC,KAAK,EAAE,GAAA,EAAE,KAAK,CAAC;SAAC,EACxD,IAAI,GAAG;YACL,YAAY,CAAC,OAAO,CAAC,CAAC;YACtBA,6BAAS,CAAC,IAAI,EAAE,CAAC;SAClB,CAAC;QAEJC,0BAAM,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;QAC5CA,0BAAM,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QAC9CA,0BAAM,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;KAC5C,EAAE,EAAE,CAAC,CAAC;IAEP,OAAOJ,wCAAC,eAAe,OAAG,CAAC;AAC7B,CAAC,EACD,cAAM,OAAA,IAAI,GAAA,EACV;;;;;"}